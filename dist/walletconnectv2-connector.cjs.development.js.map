{"version":3,"file":"walletconnectv2-connector.cjs.development.js","sources":["../src/index.tsx"],"sourcesContent":["import { AbstractConnector } from \"@web3-react/abstract-connector\";\nimport { ConnectorUpdate } from '@web3-react/types'\nimport { EthereumProvider } from '@walletconnect/ethereum-provider'\n\n\n\nexport class WalletConnectConnector extends AbstractConnector {\n  public provider: any;\n  constructor() {\n    super({supportedChainIds: [1284]})\n  }\n  public async activate() : Promise<ConnectorUpdate> {\n\n    this.provider = await EthereumProvider.init({\n      projectId: \"ad2993f3d628ec73d7307035cb36c4f0\",\n      chains: [1284],\n      optionalChains: [1284],\n      showQrModal: true,\n      rpcMap: {1284: \"https://rpc.api.moonbeam.network\"},\n      events: [\"chainChanged\", \"accountsChanged\"],\n      methods: [\n        \"eth_sendTransaction\",\n        \"eth_signTransaction\",\n        \"eth_sign\",\n        \"personal_sign\",\n        \"eth_signTypedData\",\n      ]\n\n    })\n    await this.provider.connect()\n    const result = await this.provider.request({ method: 'eth_requestAccounts' })\n    return {provider: this.provider,account:result[0]}\n\n  }\n\n  public async getProvider(): Promise<any> {\n    return this.provider\n  }\n\n  public async getChainId(): Promise<number> {\n    return this.provider.chainId\n  }\n\n  public async getAccount(): Promise<null | string> {\n    const accounts = await this.provider.request({\n      method: 'eth_requestAccounts'\n    })\n    return accounts[0]\n  }\n\n\n  public async deactivate() {\n\n  }\n}"],"names":["WalletConnectConnector","_AbstractConnector","_inheritsLoose","call","supportedChainIds","_proto","prototype","activate","_activate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","EthereumProvider","init","projectId","chains","optionalChains","showQrModal","rpcMap","events","methods","provider","sent","connect","request","method","abrupt","account","stop","apply","arguments","getProvider","_getProvider","_callee2","_callee2$","_context2","getChainId","_getChainId","_callee3","_callee3$","_context3","chainId","getAccount","_getAccount","_callee4","accounts","_callee4$","_context4","deactivate","_deactivate","_callee5","_callee5$","_context5","AbstractConnector"],"mappings":"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"}